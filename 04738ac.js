(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1084:function(t,e,n){t.exports={}},2151:function(t,e,n){"use strict";n(1084)},2697:function(t,e,n){"use strict";n.r(e);n(41),n(669),n(2148);var l=n(2149),r={name:"Javsearch",directives:{viewer:Object(l.directive)()},data:function(){return{keyword:"",results:"",type:"ce",source:"jp",page:1,loading:!1,loadingView:!1,viewInfoDialog:!1,viewData:{},viewerOptions:{navbar:!0,button:!0,title:!1,toolbar:!0,tooltip:!0,url:"src",movable:!1,zoomable:!1,rotatable:!0,scalable:!0,transition:!0,fullscreen:!1,keyboard:!0}}},computed:{pass:function(){return!0}},watch:{page:function(){this.getInfo(!0)}},methods:{proxyImage:function(t){return"".concat(this.$store.state.env.imageServer).concat(/https?:\/\//.test(t)?t:t.replace(/\/pics/,"https://pics.javbus.com"))},copy:function(text){var t=this;this.$copyText(text).then((function(){t.$message.success("复制成功")}),(function(){t.$message.error("复制失败，请手动选择复制")}))},getInfo:function(t){var e=this,n=t?this.results.keyword:this.keyword;if(this.loading)return!1;n?(t||(this.page=1),this.loading=!0,this.results="",this.$axios.post("/javsearch",{keyword:n,page:this.page,type:this.type,source:this.source}).then((function(t){e.loading=!1,e.results=t.data.data,e.results.pageNum=Math.ceil(t.data.data.total/30),e.results.keyword=n})).catch((function(t){e.loading=!1,e.$notify.error({title:"查询失败",message:t})}))):this.$notify.error({title:"查询失败",message:"请输入正确的车牌号码"})},view:function(t){var e=this;this.loadingView=!0,this.viewData={},this.$axios.post("/javsearch/info",{id:t.link,source:this.source}).then((function(t){e.loadingView=!1,e.viewData=t.data.data,e.viewInfoDialog=!0})).catch((function(t){e.loadingView=!1,e.$notify.error({title:"查询信息失败",message:t})}))}}},o=(n(2151),n(2)),c=function(t){t.exports.head={meta:[],title:"AV 信息查询 - MikuTools"},t.options.toolsMeta={name:"AV 信息查询",path:"/driver",show:!1,hot:"vip",key:"vip",head:{meta:[],title:"AV 信息查询 - MikuTools"}}},component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"javsearch"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingView,expression:"loadingView"}],staticClass:"view-loading"},[n("nya-loading")],1),n("el-dialog",{staticClass:"jav-view",attrs:{visible:t.viewInfoDialog,width:"650px",center:"",fullscreen:t.$store.state.isMobile},on:{"update:visible":function(e){t.viewInfoDialog=e}}},[t.viewData.title?n("div",{staticClass:"card"},[n("div",{staticClass:"info"},[n("div",{staticClass:"poster"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.proxyImage(t.viewData.cover),expression:"proxyImage(viewData.cover)"}],attrs:{alt:"poster"}})]),n("div",{staticClass:"x"},[n("div",{staticClass:"title"},[t._v("\n                        "+t._s(t.viewData.title)+"\n                    ")]),n("div",{staticClass:"content"},[n("ul",{staticClass:"nya-list"},t._l(t.viewData.info,(function(e,l){return n("li",{key:l},[n("span",{staticClass:"name"},[t._v(t._s(e.name)+"：")]),n("span",{staticClass:"con"},[t._v(t._s(e.content))])])})),0)])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.viewData.actor.length,expression:"viewData.actor.length"}],staticClass:"avatar-waterfall"},[n("div",{staticClass:"title"},[t._v("\n                    演员：\n                ")]),n("ul",t._l(t.viewData.actor,(function(e,l){return n("li",{key:l},[n("div",{staticClass:"avatar"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.proxyImage(e.avatar),expression:"proxyImage(item.avatar)"}],attrs:{alt:"avatar"}})]),n("div",{staticClass:"name"},[t._v("\n                            "+t._s(e.name)+"\n                        ")])])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.viewData.preview.length,expression:"viewData.preview.length"}],staticClass:"sample-waterfall"},[n("div",{staticClass:"title"},[t._v("\n                    预览图：\n                ")]),n("ul",{directives:[{name:"viewer",rawName:"v-viewer",value:t.viewerOptions,expression:"viewerOptions"}]},t._l(t.viewData.preview,(function(e,l){return n("li",{key:l,attrs:{title:"点击查看大图"}},[n("img",{attrs:{src:t.proxyImage(e)}})])})),0)]),n("div",{staticClass:"bt-list"},[n("div",{staticClass:"title"},[t._v("\n                    磁力链接：\n                ")]),t.viewData.magent.length?n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.viewData.magent}},[n("el-table-column",{attrs:{prop:"title",label:"标题"}}),n("el-table-column",{attrs:{width:"100",prop:"date",label:"日期"}}),n("el-table-column",{attrs:{width:"100",prop:"size",label:"大小"}}),n("el-table-column",{attrs:{width:"100",prop:"size",label:"下载"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.copy(e.row.link)}}},[t._v("\n                                复制\n                            ")]),n("el-link",{attrs:{href:e.row.link,target:"_blank",rel:"noopener noreferrer",type:"primary"}},[t._v("\n                                下载\n                            ")])]}}],null,!1,2169461391)})],1):n("p",[t._v("\n                    暂无磁力，请自行到"),n("nuxt-link",{attrs:{to:"/bt_search"}},[t._v("\n                        /bt_search\n                    ")]),t._v("进行搜索\n                ")],1)],1)]):t._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.viewInfoDialog=!1}}},[t._v("关 闭")])],1)]),n("nya-container",{attrs:{title:"AV搜索"}},[n("div",{staticClass:"nya-subtitle"},[t._v("\n            请输入番号\n        ")]),n("el-input",{staticClass:"mb-15",attrs:{placeholder:"S-cute",autofocus:"",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getInfo()}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[n("el-button",{attrs:{slot:"append",loading:t.loading},on:{click:function(e){return t.getInfo()}},slot:"append"},[t._v("\n                "+t._s(t.loading?"查询中":"开始查询")+"\n            ")])],1),n("div",{staticClass:"mb-15"},[n("div",{staticClass:"nya-subtitle inline-title"},[t._v("\n                选择查询类型\n            ")]),n("el-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("el-radio",{attrs:{label:"ce"}},[t._v("\n                    有码\n                ")]),n("el-radio",{attrs:{label:"uc"}},[t._v("\n                    无码\n                ")])],1)],1),n("div",{staticClass:"mb-15"},[n("div",{staticClass:"nya-subtitle inline-title"},[t._v("\n                选择查询资源\n            ")]),n("el-radio-group",{model:{value:t.source,callback:function(e){t.source=e},expression:"source"}},[n("el-radio",{attrs:{label:"jp"}},[t._v("\n                    日本\n                ")]),n("el-radio",{attrs:{label:"us"}},[t._v("\n                    欧美\n                ")])],1)],1)],1),t.results?n("nya-container",{attrs:{title:"查询成功"}},[n("h2",[t._v("共 "+t._s(t.results.pageNum)+" 页，当前为第 "+t._s(t.page)+" 页")]),n("ul",{staticClass:"list"},t._l(t.results.list,(function(e,l){return n("li",{key:l,on:{click:function(n){return t.view(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.proxyImage(e.cover),expression:"proxyImage(item.cover)"}],attrs:{alt:"poster"}}),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[n("b",[t._v("标题：")]),t._v(t._s(e.title)+"\n                    ")]),n("div",{staticClass:"date"},[n("b",[t._v("日期：")]),t._v(t._s(e.date)+"\n                    ")]),n("div",{staticClass:"id"},[n("b",[t._v("番号：")]),n("span",{staticClass:"highlight"},[t._v(t._s(e.id))])])])])})),0),n("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"pager-count":5,"hide-on-single-page":"",background:"","current-page":t.page,"page-size":1,layout:"prev, pager, next",total:t.results.pageNum},on:{"current-change":function(e){return t.page=e}}})],1):t._e(),n("nya-container",{directives:[{name:"show",rawName:"v-show",value:t.pass,expression:"pass"}],attrs:{title:"说明"}},[n("ul",{staticClass:"nya-list"},[n("li",[n("b",[t._v("如果查询数据一直为空，说明该工具已经失效，请等待几个小时候使用")])]),n("li",[t._v("请不要使用"),n("b",[t._v("简体字")]),t._v("进行查询，部分小众作品和社团作品无法查询")]),n("li",[t._v("如搜寻《番号》，格式请按照【STAR-433】或【STAR433】搜寻")]),n("li",[t._v("如搜寻《女优》，请尝试按照维基百科使用繁体中文名或是日文名、罗马音，如【水菜丽】请改成【みづなれい】搜寻")]),n("li",[t._v("如搜寻《影片标题》，请尝试缩短字数，并优先使用【日文】搜寻")])])])],1)}),[],!1,null,null,null);"function"==typeof c&&c(component);e.default=component.exports}}]);