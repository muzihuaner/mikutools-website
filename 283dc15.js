(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{1087:function(e,t,n){e.exports={}},2159:function(e,t,n){"use strict";n(1087)},2701:function(e,t,n){"use strict";n.r(t);n(41);var l=n(643),c={name:"FaceContrast",data:function(){return{faceA:{filename:"",file:"",url:""},faceB:{filename:"",file:"",url:""},results:"",status:"开始对比",loading:!1}},methods:{contrast:function(){var e=this;if(this.loading)return!1;this.loading=!0,this.results=null,this.status="正在进行对比",this.$axios.post("/face_contrast",{faceA:this.faceA.url.replace(/data:.+?,/,""),faceB:this.faceB.url.replace(/data:.+?,/,"")}).then((function(t){e.loading=!1,e.results=t.data.data,e.status="开始对比"})).catch((function(t){e.status="开始对比",e.loading=!1,e.$notify.error({title:"对比失败",message:t})}))},onSelectFile:function(e,t){var n=this,c=e.target,r=c.files;if(!r.length)return!1;var o=r[0];o.size/1024/1024>5?(this.n="",this.$notify.error({title:"上传失败",message:"请选择大小在5M以内的图片"})):(this["face".concat(t)].file=o,Object(l.a)(c.files[0]).then((function(e){n["face".concat(t)].url=e})))}}},r=(n(2159),n(2)),o=function(e){e.exports.head={meta:[{hid:"keywords",keywords:"人脸相似度对比,人脸对比,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"人脸相似度对比"}],title:"人脸相似度对比 - MikuTools"},e.options.toolsMeta={name:"人脸相似度对比",path:"/face_contrast",head:{meta:[{hid:"keywords",keywords:"人脸相似度对比,人脸对比,MikuTools,Ice-Hazymoon,在线工具"},{hid:"description",description:"人脸相似度对比"}],title:"人脸相似度对比 - MikuTools"},hot:"new",show:!0,key:"image"}},component=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"face_contrast"},[n("nya-container",{attrs:{title:"人脸相似度对比"}},[n("div",{staticClass:"nya-subtitle"},[e._v("\n            图片A\n        ")]),n("el-input",{staticClass:"mb-15",attrs:{disabled:e.loading,type:"file",accept:"image/*",placeholder:e.faceA.filename?e.faceA.filename.replace(/C:\\fakepath\\/,""):"点击这里上传文件",clearable:""},nativeOn:{change:function(t){return e.onSelectFile(t,"A")}},model:{value:e.faceA.filename,callback:function(t){e.$set(e.faceA,"filename",t)},expression:"faceA.filename"}}),n("div",{staticClass:"nya-subtitle"},[e._v("\n            图片B\n        ")]),n("el-input",{staticClass:"mb-15",attrs:{disabled:e.loading,type:"file",accept:"image/*",placeholder:e.faceB.filename?e.faceB.filename.replace(/C:\\fakepath\\/,""):"点击这里上传文件",clearable:""},nativeOn:{change:function(t){return e.onSelectFile(t,"B")}},model:{value:e.faceB.filename,callback:function(t){e.$set(e.faceB,"filename",t)},expression:"faceB.filename"}}),n("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.contrast}},[e._v("\n            "+e._s(e.status)+"\n        ")])],1),e.results?n("nya-container",{staticClass:"results",attrs:{title:"对比成功"}},[n("h2",[e._v("\n            人脸相似度："),n("span",{staticClass:"color-theme"},[e._v(e._s(e.results)+"% ")]),e.results>=90?n("span",[e._v("是同一人")]):e._e(),e.results>=80&&e.results<90?n("span",[e._v("可能是同一人")]):e._e(),e.results<80?n("span",[e._v("不是同一人")]):e._e()]),n("div",{staticClass:"image-box"},[n("img",{attrs:{src:e.faceA.url,alt:""}})]),n("div",{staticClass:"image-box"},[n("img",{attrs:{src:e.faceB.url,alt:""}})])]):e._e(),n("nya-container",{attrs:{title:"说明"}},[n("ul",{staticClass:"nya-list"},[n("li",[n("b",[e._v("请善于使用\n                    "),n("nuxt-link",{attrs:{to:"/picture_clipping"}},[e._v("图片裁剪")]),e._v("\n                    将人脸信息裁剪后再进行识别")],1)]),n("li",[e._v("数据仅供参考，不可用于正式用途")])])])],1)}),[],!1,null,null,null);"function"==typeof o&&o(component);t.default=component.exports},643:function(e,t,n){"use strict";n(8);t.a=function(e){return new Promise((function(t,n){var l=new FileReader;l.readAsDataURL(e),l.onload=function(){return t(l.result)},l.onerror=function(e){return n(e)}}))}}}]);