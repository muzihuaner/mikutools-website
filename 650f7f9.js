(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{1200:function(t,n,e){t.exports={}},2621:function(t,n,e){"use strict";e(1200)},2784:function(t,n,e){"use strict";e.r(n);e(669);var r=e(1196),o=e.n(r),l=e(1197),c=e.n(l),d=(e(1198),{name:"NewBangumiPlay",head:function(){return{title:"追新番"}},components:{"d-player":c.a},data:function(){return{current:0,data:null,loading:!0,currentItem:null}},computed:{playerOptions:function(){return{video:/m3u8$/.test(this.data.link)?{url:this.data.link,type:"customHls",customType:{customHls:function(video){var t=new o.a;t.loadSource(video.src),t.attachMedia(video)}}}:{url:this.data.link},autoplay:!0,screenshot:!1,hotkey:!0,preload:"auto"}}},mounted:function(){var t=this;this.$store.state.isMobile&&this.$nextTick((function(){t.$notify.warning({title:"建议",message:"<b>强烈推荐使用电脑观看</b>，由于播放器接口限制，移动端观看可能会出现广告，影响观看体验",dangerouslyUseHTMLString:!0})})),this.getData()},methods:{switchNum:function(t,n){this.loading=!0,this.currentItem=t,this.current=n,console.log(t),this.getData(t.link)},getData:function(link){var t=this;this.loading=!0;var n=this.$route.query.id;n?this.$axios.post("/new_bangumi/play",{id:n,link:link}).then((function(n){t.loading=!1,t.data=n.data.data})).catch((function(n){t.loading=!1,t.$notify.error({title:"获取番剧数据失败",message:n})})):this.$notify.error({title:"获取番剧数据失败",message:"ID异常"})}}}),h=(e(2621),e(2)),component=Object(h.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"new_bangumi_play"},[e("nya-container",{attrs:{title:t.data?"正在播放："+t.data.title+" "+(t.currentItem?t.currentItem.title:t.data.list[0].title):"加载中"}},[t.loading?e("nya-loading"):e("div",{staticClass:"mt-15"},[e("d-player",{ref:"player",attrs:{options:t.playerOptions}}),e("div",{staticClass:"num-list"},t._l(t.data.list,(function(n,i){return e("el-button",{key:i,attrs:{disabled:t.loading,type:t.current===i?"primary":""},on:{click:function(e){return t.switchNum(n,i)}}},[t._v("\n                    "+t._s(n.title)+"\n                ")])})),1)],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports}}]);